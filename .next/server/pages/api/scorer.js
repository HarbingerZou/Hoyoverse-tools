"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/scorer";
exports.ids = ["pages/api/scorer"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "(api)/./models/starRailConfig/affixConfigModel.js":
/*!***************************************************!*\
  !*** ./models/starRailConfig/affixConfigModel.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_ConnectStarRailConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/ConnectStarRailConfig */ \"(api)/./utils/ConnectStarRailConfig.js\");\n\n\nconst AffixConfigSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({});\nconst StarRailDB = _utils_ConnectStarRailConfig__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\nconst Affix_config = StarRailDB.models?.affix_config || StarRailDB.model(\"affix_config\", AffixConfigSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Affix_config);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvc3RhclJhaWxDb25maWcvYWZmaXhDb25maWdNb2RlbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlEO0FBQ0k7QUFDckQsTUFBTUksb0JBQW9CLElBQUlKLDRDQUFNQSxDQUFDLENBRXJDO0FBSUEsTUFBTUssYUFBYUYsb0VBQUlBO0FBRXZCLE1BQU1HLGVBQWVELFdBQVdILE1BQU0sRUFBRUssZ0JBQWdCRixXQUFXSixLQUFLLENBQUMsZ0JBQWdCRztBQUV6RixpRUFBZUUsWUFBWUEsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbmthaS1zdGFyLXJhaWwvLi9tb2RlbHMvc3RhclJhaWxDb25maWcvYWZmaXhDb25maWdNb2RlbC5qcz83NGQxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjaGVtYSwgbW9kZWwsIG1vZGVscyB9IGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBjb25uIGZyb20gJy4uLy4uL3V0aWxzL0Nvbm5lY3RTdGFyUmFpbENvbmZpZyc7XG5jb25zdCBBZmZpeENvbmZpZ1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIFxufSk7IFxuXG5cblxuY29uc3QgU3RhclJhaWxEQiA9IGNvbm47XG5cbmNvbnN0IEFmZml4X2NvbmZpZyA9IFN0YXJSYWlsREIubW9kZWxzPy5hZmZpeF9jb25maWcgfHwgU3RhclJhaWxEQi5tb2RlbCgnYWZmaXhfY29uZmlnJywgQWZmaXhDb25maWdTY2hlbWEpO1xuXG5leHBvcnQgZGVmYXVsdCBBZmZpeF9jb25maWciXSwibmFtZXMiOlsiU2NoZW1hIiwibW9kZWwiLCJtb2RlbHMiLCJjb25uIiwiQWZmaXhDb25maWdTY2hlbWEiLCJTdGFyUmFpbERCIiwiQWZmaXhfY29uZmlnIiwiYWZmaXhfY29uZmlnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./models/starRailConfig/affixConfigModel.js\n");

/***/ }),

/***/ "(api)/./models/starRailConfig/avatarConfigModel.js":
/*!****************************************************!*\
  !*** ./models/starRailConfig/avatarConfigModel.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_ConnectStarRailConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/ConnectStarRailConfig */ \"(api)/./utils/ConnectStarRailConfig.js\");\n\n\nconst multiplierSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    category: {\n        type: String,\n        enum: [\n            \"boostMultiplier\",\n            \"defReduction\",\n            \"resMultiplier\",\n            \"vulnerabilityMultiplier\"\n        ]\n    },\n    value: Number\n});\nconst skilLevelStats = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    damage_ratio: {\n        type: Number,\n        required: true\n    },\n    multipliers: [\n        multiplierSchema\n    ]\n});\nconst damageSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    name: String,\n    type: {\n        type: String,\n        enum: [\n            \"ATK\",\n            \"DEF\",\n            \"HP\"\n        ]\n    },\n    target_count: Number,\n    stats: {\n        type: [\n            {\n                type: skilLevelStats\n            }\n        ],\n        validate: {\n            validator: function(array) {\n                return array.length === 7 || array.length === 12;\n            }\n        }\n    }\n});\nconst AvatarConfigSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    id: Number,\n    name: String,\n    element: String,\n    path: Number,\n    damages: [\n        damageSchema\n    ]\n});\nconst StarRailDB = _utils_ConnectStarRailConfig__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\nconst Avatar_config = StarRailDB.models?.avatar_config || StarRailDB.model(\"avatar_config\", AvatarConfigSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Avatar_config);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvc3RhclJhaWxDb25maWcvYXZhdGFyQ29uZmlnTW9kZWwuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpRDtBQUNJO0FBRXJELE1BQU1JLG1CQUFtQixJQUFJSiw0Q0FBTUEsQ0FBQztJQUNoQ0ssVUFBUztRQUFDQyxNQUFLQztRQUFRQyxNQUFLO1lBQUM7WUFBa0I7WUFBZ0I7WUFBaUI7U0FBMEI7SUFBQTtJQUMxR0MsT0FBTUM7QUFDVjtBQUVBLE1BQU1DLGlCQUFpQixJQUFJWCw0Q0FBTUEsQ0FBQztJQUM5QlksY0FBYTtRQUFDTixNQUFLSTtRQUFRRyxVQUFTLElBQUk7SUFBQTtJQUN4Q0MsYUFBWTtRQUFDVjtLQUFpQjtBQUNsQztBQUNBLE1BQU1XLGVBQWUsSUFBSWYsNENBQU1BLENBQUM7SUFDNUJnQixNQUFLVDtJQUNMRCxNQUFLO1FBQUNBLE1BQUtDO1FBQVFDLE1BQUs7WUFBQztZQUFPO1lBQU87U0FBSztJQUFBO0lBQzVDUyxjQUFhUDtJQUNiUSxPQUFNO1FBQ0ZaLE1BQUs7WUFBQztnQkFBQ0EsTUFBS0s7WUFBYztTQUFFO1FBQzVCUSxVQUFTO1lBQ0xDLFdBQVcsU0FBU0MsS0FBSyxFQUFDO2dCQUN0QixPQUFPQSxNQUFNQyxNQUFNLEtBQUssS0FBS0QsTUFBTUMsTUFBTSxLQUFLO1lBQ2xEO1FBQ0o7SUFDSjtBQUNKO0FBR0EsTUFBTUMscUJBQXFCLElBQUl2Qiw0Q0FBTUEsQ0FBQztJQUNsQ3dCLElBQUdkO0lBQ0hNLE1BQUtUO0lBQ0xrQixTQUFRbEI7SUFDUm1CLE1BQUtoQjtJQUNMaUIsU0FBUTtRQUFDWjtLQUFhO0FBQzFCO0FBRUEsTUFBTWEsYUFBYXpCLG9FQUFJQTtBQUV2QixNQUFNMEIsZ0JBQWdCRCxXQUFXMUIsTUFBTSxFQUFFNEIsaUJBQWlCRixXQUFXM0IsS0FBSyxDQUFDLGlCQUFpQnNCO0FBRTVGLGlFQUFlTSxhQUFhQSxFQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9ua2FpLXN0YXItcmFpbC8uL21vZGVscy9zdGFyUmFpbENvbmZpZy9hdmF0YXJDb25maWdNb2RlbC5qcz9lNDkxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjaGVtYSwgbW9kZWwsIG1vZGVscyB9IGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBjb25uIGZyb20gJy4uLy4uL3V0aWxzL0Nvbm5lY3RTdGFyUmFpbENvbmZpZyc7XG5cbmNvbnN0IG11bHRpcGxpZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICBjYXRlZ29yeTp7dHlwZTpTdHJpbmcsIGVudW06W1wiYm9vc3RNdWx0aXBsaWVyXCIsXCJkZWZSZWR1Y3Rpb25cIiwgXCJyZXNNdWx0aXBsaWVyXCIsIFwidnVsbmVyYWJpbGl0eU11bHRpcGxpZXJcIl19LFxuICAgIHZhbHVlOk51bWJlclxufSlcblxuY29uc3Qgc2tpbExldmVsU3RhdHMgPSBuZXcgU2NoZW1hKHtcbiAgICBkYW1hZ2VfcmF0aW86e3R5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlfSxcbiAgICBtdWx0aXBsaWVyczpbbXVsdGlwbGllclNjaGVtYV1cbn0pXG5jb25zdCBkYW1hZ2VTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICBuYW1lOlN0cmluZyxcbiAgICB0eXBlOnt0eXBlOlN0cmluZywgZW51bTpbXCJBVEtcIiwgXCJERUZcIiwgXCJIUFwiXX0sXG4gICAgdGFyZ2V0X2NvdW50Ok51bWJlcixcbiAgICBzdGF0czp7XG4gICAgICAgIHR5cGU6W3t0eXBlOnNraWxMZXZlbFN0YXRzfV0sXG4gICAgICAgIHZhbGlkYXRlOntcbiAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oYXJyYXkpe1xuICAgICAgICAgICAgICAgIHJldHVybiBhcnJheS5sZW5ndGggPT09IDcgfHwgYXJyYXkubGVuZ3RoID09PSAxMiBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59KVxuXG5cbmNvbnN0IEF2YXRhckNvbmZpZ1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIGlkOk51bWJlcixcbiAgICBuYW1lOlN0cmluZyxcbiAgICBlbGVtZW50OlN0cmluZyxcbiAgICBwYXRoOk51bWJlcixcbiAgICBkYW1hZ2VzOltkYW1hZ2VTY2hlbWFdXG59KTsgXG5cbmNvbnN0IFN0YXJSYWlsREIgPSBjb25uO1xuXG5jb25zdCBBdmF0YXJfY29uZmlnID0gU3RhclJhaWxEQi5tb2RlbHM/LmF2YXRhcl9jb25maWcgfHwgU3RhclJhaWxEQi5tb2RlbCgnYXZhdGFyX2NvbmZpZycsIEF2YXRhckNvbmZpZ1NjaGVtYSk7XG5cbmV4cG9ydCBkZWZhdWx0IEF2YXRhcl9jb25maWciXSwibmFtZXMiOlsiU2NoZW1hIiwibW9kZWwiLCJtb2RlbHMiLCJjb25uIiwibXVsdGlwbGllclNjaGVtYSIsImNhdGVnb3J5IiwidHlwZSIsIlN0cmluZyIsImVudW0iLCJ2YWx1ZSIsIk51bWJlciIsInNraWxMZXZlbFN0YXRzIiwiZGFtYWdlX3JhdGlvIiwicmVxdWlyZWQiLCJtdWx0aXBsaWVycyIsImRhbWFnZVNjaGVtYSIsIm5hbWUiLCJ0YXJnZXRfY291bnQiLCJzdGF0cyIsInZhbGlkYXRlIiwidmFsaWRhdG9yIiwiYXJyYXkiLCJsZW5ndGgiLCJBdmF0YXJDb25maWdTY2hlbWEiLCJpZCIsImVsZW1lbnQiLCJwYXRoIiwiZGFtYWdlcyIsIlN0YXJSYWlsREIiLCJBdmF0YXJfY29uZmlnIiwiYXZhdGFyX2NvbmZpZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./models/starRailConfig/avatarConfigModel.js\n");

/***/ }),

/***/ "(api)/./models/starRailConfig/characterToStatsScore.js":
/*!********************************************************!*\
  !*** ./models/starRailConfig/characterToStatsScore.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_ConnectStarRailConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/ConnectStarRailConfig */ \"(api)/./utils/ConnectStarRailConfig.js\");\n\n\nconst WeightSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    //icon_path:String\n    name: String,\n    HP: Number,\n    ATK: Number,\n    DEF: Number,\n    Speed: Number,\n    \"CRIT Rate\": Number,\n    \"CRIT DMG\": Number,\n    \"Break Effect\": Number,\n    \"Outgoing Healing\": Number,\n    \"Energy Regeneration Rate\": Number,\n    \"Effect HIT Rate\": Number,\n    \"Effect RES\": Number\n});\nconst StarRailDB = _utils_ConnectStarRailConfig__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\nconst CharacterWeight = StarRailDB.models?.Character_to_stats_score || StarRailDB.model(\"Character_to_stats_score\", WeightSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CharacterWeight);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvc3RhclJhaWxDb25maWcvY2hhcmFjdGVyVG9TdGF0c1Njb3JlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBaUQ7QUFDSTtBQUVyRCxNQUFNSSxlQUFlLElBQUlKLDRDQUFNQSxDQUFDO0lBQzlCLGtCQUFrQjtJQUNsQkssTUFBS0M7SUFDTEMsSUFBR0M7SUFDSEMsS0FBSUQ7SUFDSkUsS0FBSUY7SUFDSkcsT0FBTUg7SUFDTixhQUFZQTtJQUNaLFlBQVdBO0lBQ1gsZ0JBQWVBO0lBQ2Ysb0JBQW1CQTtJQUNuQiw0QkFBMkJBO0lBQzNCLG1CQUFrQkE7SUFDbEIsY0FBYUE7QUFDZjtBQUVBLE1BQU1JLGFBQWFULG9FQUFJQTtBQUV2QixNQUFNVSxrQkFBa0JELFdBQVdWLE1BQU0sRUFBRVksNEJBQTRCRixXQUFXWCxLQUFLLENBQUMsNEJBQTRCRztBQUVwSCxpRUFBZVMsZUFBZUEsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbmthaS1zdGFyLXJhaWwvLi9tb2RlbHMvc3RhclJhaWxDb25maWcvY2hhcmFjdGVyVG9TdGF0c1Njb3JlLmpzPzBjNTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2NoZW1hLCBtb2RlbCwgbW9kZWxzIH0gZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IGNvbm4gZnJvbSAnLi4vLi4vdXRpbHMvQ29ubmVjdFN0YXJSYWlsQ29uZmlnJztcblxuY29uc3QgV2VpZ2h0U2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIC8vaWNvbl9wYXRoOlN0cmluZ1xuICBuYW1lOlN0cmluZyxcbiAgSFA6TnVtYmVyLFxuICBBVEs6TnVtYmVyLFxuICBERUY6TnVtYmVyLFxuICBTcGVlZDpOdW1iZXIsXG4gIFwiQ1JJVCBSYXRlXCI6TnVtYmVyLFxuICBcIkNSSVQgRE1HXCI6TnVtYmVyLFxuICBcIkJyZWFrIEVmZmVjdFwiOk51bWJlcixcbiAgXCJPdXRnb2luZyBIZWFsaW5nXCI6TnVtYmVyLFxuICBcIkVuZXJneSBSZWdlbmVyYXRpb24gUmF0ZVwiOk51bWJlcixcbiAgXCJFZmZlY3QgSElUIFJhdGVcIjpOdW1iZXIsXG4gIFwiRWZmZWN0IFJFU1wiOk51bWJlclxufSk7XG5cbmNvbnN0IFN0YXJSYWlsREIgPSBjb25uO1xuXG5jb25zdCBDaGFyYWN0ZXJXZWlnaHQgPSBTdGFyUmFpbERCLm1vZGVscz8uQ2hhcmFjdGVyX3RvX3N0YXRzX3Njb3JlIHx8IFN0YXJSYWlsREIubW9kZWwoJ0NoYXJhY3Rlcl90b19zdGF0c19zY29yZScsIFdlaWdodFNjaGVtYSk7XG5cbmV4cG9ydCBkZWZhdWx0IENoYXJhY3RlcldlaWdodCJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb2RlbCIsIm1vZGVscyIsImNvbm4iLCJXZWlnaHRTY2hlbWEiLCJuYW1lIiwiU3RyaW5nIiwiSFAiLCJOdW1iZXIiLCJBVEsiLCJERUYiLCJTcGVlZCIsIlN0YXJSYWlsREIiLCJDaGFyYWN0ZXJXZWlnaHQiLCJDaGFyYWN0ZXJfdG9fc3RhdHNfc2NvcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./models/starRailConfig/characterToStatsScore.js\n");

/***/ }),

/***/ "(api)/./models/starRailConfig/relicConfigModel.js":
/*!***************************************************!*\
  !*** ./models/starRailConfig/relicConfigModel.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_ConnectStarRailConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/ConnectStarRailConfig */ \"(api)/./utils/ConnectStarRailConfig.js\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst RelicConfigSchema = new mongoose__WEBPACK_IMPORTED_MODULE_1__.Schema({});\nconst StarRailDB = _utils_ConnectStarRailConfig__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\nconst Relic_config = StarRailDB.models?.relic_config || StarRailDB.model(\"relic_config\", RelicConfigSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Relic_config);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvc3RhclJhaWxDb25maWcvcmVsaWNDb25maWdNb2RlbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXFEO0FBQ0o7QUFFakQsTUFBTUksb0JBQW9CLElBQUlILDRDQUFNQSxDQUFDLENBRXJDO0FBRUEsTUFBTUksYUFBYUwsb0VBQUlBO0FBRXZCLE1BQU1NLGVBQWVELFdBQVdGLE1BQU0sRUFBRUksZ0JBQWdCRixXQUFXSCxLQUFLLENBQUMsZ0JBQWdCRTtBQUV6RixpRUFBZUUsWUFBWUEsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbmthaS1zdGFyLXJhaWwvLi9tb2RlbHMvc3RhclJhaWxDb25maWcvcmVsaWNDb25maWdNb2RlbC5qcz9lOWY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb25uIGZyb20gJy4uLy4uL3V0aWxzL0Nvbm5lY3RTdGFyUmFpbENvbmZpZyc7XG5pbXBvcnQgeyBTY2hlbWEsIG1vZGVsLCBtb2RlbHMgfSBmcm9tICdtb25nb29zZSc7XG5cbmNvbnN0IFJlbGljQ29uZmlnU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgXG59KTsgXG5cbmNvbnN0IFN0YXJSYWlsREIgPSBjb25uO1xuXG5jb25zdCBSZWxpY19jb25maWcgPSBTdGFyUmFpbERCLm1vZGVscz8ucmVsaWNfY29uZmlnIHx8IFN0YXJSYWlsREIubW9kZWwoJ3JlbGljX2NvbmZpZycsIFJlbGljQ29uZmlnU2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgUmVsaWNfY29uZmlnIl0sIm5hbWVzIjpbImNvbm4iLCJTY2hlbWEiLCJtb2RlbCIsIm1vZGVscyIsIlJlbGljQ29uZmlnU2NoZW1hIiwiU3RhclJhaWxEQiIsIlJlbGljX2NvbmZpZyIsInJlbGljX2NvbmZpZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./models/starRailConfig/relicConfigModel.js\n");

/***/ }),

/***/ "(api)/./models/starRailConfig/setConfigModel.js":
/*!*************************************************!*\
  !*** ./models/starRailConfig/setConfigModel.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_ConnectStarRailConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/ConnectStarRailConfig */ \"(api)/./utils/ConnectStarRailConfig.js\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst SetConfigSchema = new mongoose__WEBPACK_IMPORTED_MODULE_1__.Schema({});\nconst StarRailDB = _utils_ConnectStarRailConfig__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\nconst Set_config = StarRailDB.models?.set_config || StarRailDB.model(\"set_config\", SetConfigSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Set_config);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvc3RhclJhaWxDb25maWcvc2V0Q29uZmlnTW9kZWwuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFxRDtBQUNKO0FBRWpELE1BQU1JLGtCQUFrQixJQUFJSCw0Q0FBTUEsQ0FBQyxDQUVuQztBQUVBLE1BQU1JLGFBQWFMLG9FQUFJQTtBQUV2QixNQUFNTSxhQUFhRCxXQUFXRixNQUFNLEVBQUVJLGNBQWNGLFdBQVdILEtBQUssQ0FBQyxjQUFjRTtBQUVuRixpRUFBZUUsVUFBVUEsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbmthaS1zdGFyLXJhaWwvLi9tb2RlbHMvc3RhclJhaWxDb25maWcvc2V0Q29uZmlnTW9kZWwuanM/ODAzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29ubiBmcm9tICcuLi8uLi91dGlscy9Db25uZWN0U3RhclJhaWxDb25maWcnO1xuaW1wb3J0IHsgU2NoZW1hLCBtb2RlbCwgbW9kZWxzIH0gZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCBTZXRDb25maWdTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICBcbn0pOyBcblxuY29uc3QgU3RhclJhaWxEQiA9IGNvbm47XG5cbmNvbnN0IFNldF9jb25maWcgPSBTdGFyUmFpbERCLm1vZGVscz8uc2V0X2NvbmZpZyB8fCBTdGFyUmFpbERCLm1vZGVsKCdzZXRfY29uZmlnJywgU2V0Q29uZmlnU2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgU2V0X2NvbmZpZyJdLCJuYW1lcyI6WyJjb25uIiwiU2NoZW1hIiwibW9kZWwiLCJtb2RlbHMiLCJTZXRDb25maWdTY2hlbWEiLCJTdGFyUmFpbERCIiwiU2V0X2NvbmZpZyIsInNldF9jb25maWciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./models/starRailConfig/setConfigModel.js\n");

/***/ }),

/***/ "(api)/./pages/api/scorer.js":
/*!*****************************!*\
  !*** ./pages/api/scorer.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _models_starRailConfig_relicConfigModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/starRailConfig/relicConfigModel */ \"(api)/./models/starRailConfig/relicConfigModel.js\");\n/* harmony import */ var _models_starRailConfig_affixConfigModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/starRailConfig/affixConfigModel */ \"(api)/./models/starRailConfig/affixConfigModel.js\");\n/* harmony import */ var _models_starRailConfig_avatarConfigModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../models/starRailConfig/avatarConfigModel */ \"(api)/./models/starRailConfig/avatarConfigModel.js\");\n/* harmony import */ var _models_starRailConfig_setConfigModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models/starRailConfig/setConfigModel */ \"(api)/./models/starRailConfig/setConfigModel.js\");\n/* harmony import */ var _utils_starrail_getRelicScore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/starrail/getRelicScore */ \"(api)/./utils/starrail/getRelicScore.js\");\n/* harmony import */ var _utils_starrail_getWeight__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/starrail/getWeight */ \"(api)/./utils/starrail/getWeight.js\");\n/* harmony import */ var _utils_starrail_scoreFactor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/starrail/scoreFactor */ \"(api)/./utils/starrail/scoreFactor.js\");\n\n\n\n\n//import { parseSubAffix,parseMainAffix } from '../../utils/parseAffix';\n\n\n\nlet cachedRelicConfig = null;\nlet cachedAffixConfig = null;\nlet cachedAvatarConfig = null;\nlet cachedSetConfig = null;\nfunction parseType(type) {\n    switch(type){\n        case \"HEAD\":\n            return \"Head\";\n        case \"HAND\":\n            return \"Hand\";\n        case \"BODY\":\n            return \"Body\";\n        case \"FOOT\":\n            return \"Foot\";\n        case \"NECK\":\n            return \"Planar Sphere\";\n        case \"OBJECT\":\n            return \"Link Rope\";\n        default:\n            return \"Undefined\";\n    }\n}\nfunction elementMapper(element) {\n    switch(element){\n        case \"elec\":\n            return \"Lightning\";\n        case \"imaginary\":\n            return \"Imaginary\";\n        case \"wind\":\n            return \"Wind\";\n        case \"fire\":\n            return \"Fire\";\n        case \"ice\":\n            return \"Ice\";\n        case \"quantum\":\n            return \"Quantum\";\n        case \"physical\":\n            return \"Physical\";\n        default:\n            return \"Undefined\";\n    }\n}\nfunction parseMainAffix(affix, affix_config) {\n    const type = affix_config[affix.type.toString()];\n    let value = affix.value;\n    let valueString = 0;\n    if (value < 1) {\n        valueString = (Math.floor(value * 1000) / 10).toString() + \"%\";\n    } else {\n        if (type === \"Speed\") {\n            valueString = (Math.floor(value * 10) / 10).toString();\n        } else {\n            valueString = Math.floor(value).toString();\n        }\n    }\n    return {\n        type,\n        value,\n        valueString\n    };\n}\nfunction parseSubAffix(affix, affix_config) {\n    //console.log(affix)\n    const type = affix_config[affix.info.type.toString()];\n    let value = affix.info.value;\n    let valueString = 0;\n    if (value < 1) {\n        valueString = (Math.floor(value * 1000) / 10).toString() + \"%\";\n    } else {\n        if (type === \"Speed\") {\n            valueString = (Math.floor(value * 10) / 10).toString();\n        } else {\n            valueString = Math.floor(value).toString();\n        }\n    }\n    return {\n        type,\n        value,\n        valueString\n    };\n}\nfunction parseRelic(relic, relic_config, affix_config, set_config) {\n    const formatted_relic = {};\n    formatted_relic.level = relic.level;\n    formatted_relic.type = parseType(relic_config[relic.id].Type);\n    const setId = relic_config[relic.id].SetID;\n    formatted_relic.set = set_config[setId];\n    formatted_relic.rarity = relic_config[relic.id].Rarity.slice(-1);\n    const mainAffix = parseMainAffix(relic.mainAffix, affix_config);\n    formatted_relic.mainAffix = mainAffix;\n    formatted_relic.subAffix = [];\n    for (const subAffix of relic.subAffixList){\n        const formatted_subAffix = parseSubAffix(subAffix, affix_config);\n        formatted_relic.subAffix.push(formatted_subAffix);\n    }\n    return formatted_relic;\n}\nasync function handler(req, res) {\n    const UID = req.query.uid;\n    const response = await fetch(`https://api.yshelper.com/ys/getHSRPlayerInfo.php?uid=${UID}`);\n    const data = await response.json();\n    //console.log(UID, data.retcode);\n    if (data.retcode !== 0) {\n        return res.status(200).json({});\n    }\n    if (!cachedRelicConfig) {\n        const rawRelicConfig = await _models_starRailConfig_relicConfigModel__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find();\n        cachedRelicConfig = JSON.parse(JSON.stringify(rawRelicConfig[0]));\n    }\n    if (!cachedAffixConfig) {\n        const rawAffixConfig = await _models_starRailConfig_affixConfigModel__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find();\n        cachedAffixConfig = JSON.parse(JSON.stringify(rawAffixConfig[0]));\n    }\n    if (!cachedAvatarConfig) {\n        const rawAvatarConfig = await _models_starRailConfig_avatarConfigModel__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find();\n        cachedAvatarConfig = JSON.parse(JSON.stringify(rawAvatarConfig));\n    }\n    if (!cachedSetConfig) {\n        const rawSetConfig = await _models_starRailConfig_setConfigModel__WEBPACK_IMPORTED_MODULE_3__[\"default\"].find();\n        cachedSetConfig = JSON.parse(JSON.stringify(rawSetConfig[0]));\n    }\n    //const raw_relic_score = await Character_to_relic.find();\n    //const relic_score = JSON.parse(JSON.stringify(raw_relic_score[0]));\n    const userInfo = {\n        uid: UID,\n        name: data.nickname,\n        level: data.level,\n        avatars: []\n    };\n    for (const avatar of [\n        data.assistAvatar,\n        ...data.showAvatarList\n    ]){\n        const tempAvatarConfig = cachedAvatarConfig.find((instance)=>instance.id === avatar.avatarId);\n        const formattedAvatar = {\n            name: tempAvatarConfig.name,\n            element: tempAvatarConfig.element,\n            elementString: elementMapper(tempAvatarConfig.element),\n            level: avatar.level,\n            combateValues: avatar.combatValues,\n            basic_level: avatar.skillList[0].level,\n            skill_level: avatar.skillList[1].level,\n            ultimate_level: avatar.skillList[2].level,\n            relics: []\n        };\n        for(const stat in formattedAvatar.combateValues){\n            let value = formattedAvatar.combateValues[stat];\n            value = value < 5 ? Math.floor(value * 1000) / 10 : Math.floor(value);\n            formattedAvatar.combateValues[stat] = value;\n        }\n        formattedAvatar.totalScore = 0;\n        for (const relic of avatar.relicList){\n            //console.log(relic);\n            const formatted_relic = parseRelic(relic, cachedRelicConfig, cachedAffixConfig, cachedSetConfig);\n            //console.log(formatted_relic);\n            const { score , rate  } = await (0,_utils_starrail_getRelicScore__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n                relic: formatted_relic,\n                name: formattedAvatar.name\n            });\n            formatted_relic.score = score;\n            formatted_relic.rate = rate;\n            //console.log(formattedAvatar);\n            formattedAvatar.relics.push(formatted_relic);\n            formattedAvatar.totalScore += score;\n        }\n        const weights = await (0,_utils_starrail_getWeight__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(formattedAvatar.name);\n        formattedAvatar.weights = weights;\n        formattedAvatar.totalScore = Math.floor(formattedAvatar.totalScore * 10) / 10;\n        userInfo.avatars.push(formattedAvatar);\n    }\n    userInfo.factors = _utils_starrail_scoreFactor__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\n    return res.status(200).json(userInfo);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvc2NvcmVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXVFO0FBQ0E7QUFDQztBQUNMO0FBQ25FLHdFQUF3RTtBQUNWO0FBQ047QUFDRDtBQUV2RCxJQUFJTyxvQkFBb0IsSUFBSTtBQUM1QixJQUFJQyxvQkFBb0IsSUFBSTtBQUM1QixJQUFJQyxxQkFBcUIsSUFBSTtBQUM3QixJQUFJQyxrQkFBa0IsSUFBSTtBQUUxQixTQUFTQyxVQUFVQyxJQUFJLEVBQUM7SUFDcEIsT0FBUUE7UUFDSixLQUFLO1lBQ0QsT0FBTztRQUNYLEtBQUs7WUFDRCxPQUFPO1FBQ1gsS0FBSztZQUNELE9BQU87UUFDWCxLQUFLO1lBQ0QsT0FBTztRQUNYLEtBQUs7WUFDRCxPQUFPO1FBQ1gsS0FBSztZQUNELE9BQU87UUFDWDtZQUNJLE9BQU87SUFDZjtBQUVKO0FBRUEsU0FBU0MsY0FBY0MsT0FBTyxFQUFDO0lBQzNCLE9BQVFBO1FBQ0osS0FBSztZQUNELE9BQU87UUFDWCxLQUFLO1lBQ0QsT0FBTztRQUNYLEtBQUs7WUFDRCxPQUFPO1FBQ1gsS0FBSztZQUNELE9BQU87UUFDWCxLQUFLO1lBQ0QsT0FBTztRQUNYLEtBQUs7WUFDRCxPQUFPO1FBQ1gsS0FBSztZQUNELE9BQU87UUFDWDtZQUNJLE9BQU87SUFDZjtBQUNKO0FBRUEsU0FBU0MsZUFBZUMsS0FBSyxFQUFDQyxZQUFZLEVBQUM7SUFDdkMsTUFBTUwsT0FBT0ssWUFBWSxDQUFDRCxNQUFNSixJQUFJLENBQUNNLFFBQVEsR0FBRztJQUNoRCxJQUFJQyxRQUFRSCxNQUFNRyxLQUFLO0lBQ3ZCLElBQUlDLGNBQWU7SUFDbkIsSUFBR0QsUUFBUSxHQUFFO1FBQ1RDLGNBQWMsQ0FBQ0MsS0FBS0MsS0FBSyxDQUFDSCxRQUFNLFFBQU0sRUFBQyxFQUFHRCxRQUFRLEtBQUc7SUFDekQsT0FBSztRQUNELElBQUdOLFNBQVMsU0FBUTtZQUNoQlEsY0FBYyxDQUFDQyxLQUFLQyxLQUFLLENBQUNILFFBQU0sTUFBSSxFQUFDLEVBQUdELFFBQVE7UUFDcEQsT0FBSztZQUNERSxjQUFjQyxLQUFLQyxLQUFLLENBQUNILE9BQU9ELFFBQVE7UUFDNUMsQ0FBQztJQUNMLENBQUM7SUFDRCxPQUFPO1FBQUNOO1FBQUtPO1FBQU1DO0lBQVc7QUFDbEM7QUFHQSxTQUFTRyxjQUFjUCxLQUFLLEVBQUVDLFlBQVksRUFBQztJQUN2QyxvQkFBb0I7SUFDcEIsTUFBTUwsT0FBT0ssWUFBWSxDQUFDRCxNQUFNUSxJQUFJLENBQUNaLElBQUksQ0FBQ00sUUFBUSxHQUFHO0lBQ3JELElBQUlDLFFBQVFILE1BQU1RLElBQUksQ0FBQ0wsS0FBSztJQUM1QixJQUFJQyxjQUFlO0lBQ25CLElBQUdELFFBQVEsR0FBRTtRQUNUQyxjQUFjLENBQUNDLEtBQUtDLEtBQUssQ0FBQ0gsUUFBTSxRQUFNLEVBQUMsRUFBR0QsUUFBUSxLQUFHO0lBQ3pELE9BQUs7UUFDRCxJQUFHTixTQUFTLFNBQVE7WUFDaEJRLGNBQWMsQ0FBQ0MsS0FBS0MsS0FBSyxDQUFDSCxRQUFNLE1BQUksRUFBQyxFQUFHRCxRQUFRO1FBQ3BELE9BQUs7WUFDREUsY0FBY0MsS0FBS0MsS0FBSyxDQUFDSCxPQUFPRCxRQUFRO1FBQzVDLENBQUM7SUFDTCxDQUFDO0lBQ0QsT0FBTztRQUFDTjtRQUFLTztRQUFNQztJQUFXO0FBRWxDO0FBR0EsU0FBU0ssV0FBV0MsS0FBSyxFQUFDQyxZQUFZLEVBQUNWLFlBQVksRUFBQ1csVUFBVSxFQUFDO0lBQzNELE1BQU1DLGtCQUFrQixDQUFDO0lBQ3pCQSxnQkFBZ0JDLEtBQUssR0FBR0osTUFBTUksS0FBSztJQUNuQ0QsZ0JBQWdCakIsSUFBSSxHQUFHRCxVQUFVZ0IsWUFBWSxDQUFDRCxNQUFNSyxFQUFFLENBQUMsQ0FBQ0MsSUFBSTtJQUM1RCxNQUFNQyxRQUFRTixZQUFZLENBQUNELE1BQU1LLEVBQUUsQ0FBQyxDQUFDRyxLQUFLO0lBQzFDTCxnQkFBZ0JNLEdBQUcsR0FBR1AsVUFBVSxDQUFDSyxNQUFNO0lBQ3ZDSixnQkFBZ0JPLE1BQU0sR0FBR1QsWUFBWSxDQUFDRCxNQUFNSyxFQUFFLENBQUMsQ0FBQ00sTUFBTSxDQUFDQyxLQUFLLENBQUMsQ0FBQztJQUc5RCxNQUFNQyxZQUFZeEIsZUFBZVcsTUFBTWEsU0FBUyxFQUFFdEI7SUFDbERZLGdCQUFnQlUsU0FBUyxHQUFHQTtJQUU1QlYsZ0JBQWdCVyxRQUFRLEdBQUcsRUFBRTtJQUM3QixLQUFJLE1BQU1BLFlBQVlkLE1BQU1lLFlBQVksQ0FBQztRQUNyQyxNQUFNQyxxQkFBcUJuQixjQUFjaUIsVUFBVXZCO1FBQ25EWSxnQkFBZ0JXLFFBQVEsQ0FBQ0csSUFBSSxDQUFDRDtJQUNsQztJQUVBLE9BQU9iO0FBQ1g7QUFLZSxlQUFlZSxRQUFRQyxHQUFHLEVBQUVDLEdBQUcsRUFBRTtJQUM1QyxNQUFNQyxNQUFNRixJQUFJRyxLQUFLLENBQUNDLEdBQUc7SUFDekIsTUFBTUMsV0FBVyxNQUFNQyxNQUFNLENBQUMscURBQXFELEVBQUVKLElBQUksQ0FBQztJQUMxRixNQUFNSyxPQUFPLE1BQU1GLFNBQVNHLElBQUk7SUFFaEMsaUNBQWlDO0lBRWpDLElBQUdELEtBQUtFLE9BQU8sS0FBSyxHQUFFO1FBQ2xCLE9BQU9SLElBQUlTLE1BQU0sQ0FBQyxLQUFLRixJQUFJLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsSUFBSSxDQUFDOUMsbUJBQW1CO1FBQ3BCLE1BQU1pRCxpQkFBaUIsTUFBTXhELG9GQUFnQjtRQUM3Q08sb0JBQW9CbUQsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxTQUFTLENBQUNKLGNBQWMsQ0FBQyxFQUFFO0lBQ25FLENBQUM7SUFFRCxJQUFJLENBQUNoRCxtQkFBbUI7UUFDcEIsTUFBTXFELGlCQUFpQixNQUFNNUQsb0ZBQWdCO1FBQzdDTyxvQkFBb0JrRCxLQUFLQyxLQUFLLENBQUNELEtBQUtFLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDLEVBQUU7SUFDbkUsQ0FBQztJQUVELElBQUksQ0FBQ3BELG9CQUFvQjtRQUNyQixNQUFNcUQsa0JBQWtCLE1BQU01RCxxRkFBaUI7UUFDL0NPLHFCQUFxQmlELEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsU0FBUyxDQUFDRTtJQUNuRCxDQUFDO0lBQ0QsSUFBRyxDQUFDcEQsaUJBQWdCO1FBQ2hCLE1BQU1xRCxlQUFlLE1BQU01RCxrRkFBYztRQUN6Q08sa0JBQWtCZ0QsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxTQUFTLENBQUNHLFlBQVksQ0FBQyxFQUFFO0lBQy9ELENBQUM7SUFFRCwwREFBMEQ7SUFDMUQscUVBQXFFO0lBRXJFLE1BQU1DLFdBQVc7UUFDYmYsS0FBSUY7UUFDSmtCLE1BQU1iLEtBQUtjLFFBQVE7UUFDbkJwQyxPQUFPc0IsS0FBS3RCLEtBQUs7UUFDakJxQyxTQUFTLEVBQUU7SUFDZjtJQUVBLEtBQUksTUFBTUMsVUFBVTtRQUFDaEIsS0FBS2lCLFlBQVk7V0FBSWpCLEtBQUtrQixjQUFjO0tBQUMsQ0FBQztRQUMzRCxNQUFNQyxtQkFBbUI5RCxtQkFBbUJnRCxJQUFJLENBQUNlLENBQUFBLFdBQVlBLFNBQVN6QyxFQUFFLEtBQUtxQyxPQUFPSyxRQUFRO1FBQzVGLE1BQU1DLGtCQUFrQjtZQUNwQlQsTUFBTU0saUJBQWlCTixJQUFJO1lBQzNCbkQsU0FBU3lELGlCQUFpQnpELE9BQU87WUFDakM2RCxlQUFlOUQsY0FBYzBELGlCQUFpQnpELE9BQU87WUFDckRnQixPQUFPc0MsT0FBT3RDLEtBQUs7WUFDbkI4QyxlQUFlUixPQUFPUyxZQUFZO1lBQ2xDQyxhQUFhVixPQUFPVyxTQUFTLENBQUMsRUFBRSxDQUFDakQsS0FBSztZQUN0Q2tELGFBQWFaLE9BQU9XLFNBQVMsQ0FBQyxFQUFFLENBQUNqRCxLQUFLO1lBQ3RDbUQsZ0JBQWdCYixPQUFPVyxTQUFTLENBQUMsRUFBRSxDQUFDakQsS0FBSztZQUN6Q29ELFFBQVEsRUFBRTtRQUNkO1FBRUEsSUFBSSxNQUFNQyxRQUFRVCxnQkFBZ0JFLGFBQWEsQ0FBQztZQUM1QyxJQUFJekQsUUFBUXVELGdCQUFnQkUsYUFBYSxDQUFDTyxLQUFLO1lBQy9DaEUsUUFBUUEsUUFBUSxJQUFHRSxLQUFLQyxLQUFLLENBQUNILFFBQU0sUUFBTSxLQUFLRSxLQUFLQyxLQUFLLENBQUNILE1BQU07WUFDaEV1RCxnQkFBZ0JFLGFBQWEsQ0FBQ08sS0FBSyxHQUFHaEU7UUFDMUM7UUFDQXVELGdCQUFnQlUsVUFBVSxHQUFHO1FBQzdCLEtBQUksTUFBTTFELFNBQVMwQyxPQUFPaUIsU0FBUyxDQUFDO1lBQ2hDLHFCQUFxQjtZQUNyQixNQUFNeEQsa0JBQWtCSixXQUFXQyxPQUFPbkIsbUJBQW1CQyxtQkFBbUJFO1lBQ2hGLCtCQUErQjtZQUUvQixNQUFNLEVBQUM0RSxNQUFLLEVBQUNDLEtBQUksRUFBQyxHQUFHLE1BQU1uRix5RUFBYUEsQ0FBQztnQkFBQ3NCLE9BQU1HO2dCQUFpQm9DLE1BQUtTLGdCQUFnQlQsSUFBSTtZQUFBO1lBQzFGcEMsZ0JBQWdCeUQsS0FBSyxHQUFHQTtZQUN4QnpELGdCQUFnQjBELElBQUksR0FBR0E7WUFDdkIsK0JBQStCO1lBQy9CYixnQkFBZ0JRLE1BQU0sQ0FBQ3ZDLElBQUksQ0FBQ2Q7WUFDNUI2QyxnQkFBZ0JVLFVBQVUsSUFBSUU7UUFDbEM7UUFFQSxNQUFNRSxVQUFVLE1BQU1uRixxRUFBVUEsQ0FBQ3FFLGdCQUFnQlQsSUFBSTtRQUNyRFMsZ0JBQWdCYyxPQUFPLEdBQUdBO1FBQzFCZCxnQkFBZ0JVLFVBQVUsR0FBRy9ELEtBQUtDLEtBQUssQ0FBQ29ELGdCQUFnQlUsVUFBVSxHQUFDLE1BQUk7UUFDdkVwQixTQUFTRyxPQUFPLENBQUN4QixJQUFJLENBQUMrQjtJQUMxQjtJQUVBVixTQUFTMUQsT0FBTyxHQUFHQSxtRUFBT0E7SUFDMUIsT0FBT3dDLElBQUlTLE1BQU0sQ0FBQyxLQUFLRixJQUFJLENBQUNXO0FBQ2hDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob25rYWktc3Rhci1yYWlsLy4vcGFnZXMvYXBpL3Njb3Jlci5qcz9hNWQyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZWxpY0NvbmZpZyBmcm9tICcuLi8uLi9tb2RlbHMvc3RhclJhaWxDb25maWcvcmVsaWNDb25maWdNb2RlbCc7XG5pbXBvcnQgYWZmaXhDb25maWcgZnJvbSAnLi4vLi4vbW9kZWxzL3N0YXJSYWlsQ29uZmlnL2FmZml4Q29uZmlnTW9kZWwnO1xuaW1wb3J0IGF2YXRhckNvbmZpZyBmcm9tICcuLi8uLi9tb2RlbHMvc3RhclJhaWxDb25maWcvYXZhdGFyQ29uZmlnTW9kZWwnXG5pbXBvcnQgc2V0Q29uZmlnIGZyb20gJy4uLy4uL21vZGVscy9zdGFyUmFpbENvbmZpZy9zZXRDb25maWdNb2RlbCc7XG4vL2ltcG9ydCB7IHBhcnNlU3ViQWZmaXgscGFyc2VNYWluQWZmaXggfSBmcm9tICcuLi8uLi91dGlscy9wYXJzZUFmZml4JztcbmltcG9ydCBnZXRSZWxpY1Njb3JlIGZyb20gXCIuLi8uLi91dGlscy9zdGFycmFpbC9nZXRSZWxpY1Njb3JlXCJcbmltcG9ydCBnZXRXZWlnaHRzIGZyb20gJy4uLy4uL3V0aWxzL3N0YXJyYWlsL2dldFdlaWdodCc7XG5pbXBvcnQgZmFjdG9ycyBmcm9tICcuLi8uLi91dGlscy9zdGFycmFpbC9zY29yZUZhY3Rvcic7XG5cbmxldCBjYWNoZWRSZWxpY0NvbmZpZyA9IG51bGw7XG5sZXQgY2FjaGVkQWZmaXhDb25maWcgPSBudWxsO1xubGV0IGNhY2hlZEF2YXRhckNvbmZpZyA9IG51bGw7XG5sZXQgY2FjaGVkU2V0Q29uZmlnID0gbnVsbDtcblxuZnVuY3Rpb24gcGFyc2VUeXBlKHR5cGUpe1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiSEVBRFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiSGVhZFwiO1xuICAgICAgICBjYXNlIFwiSEFORFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiSGFuZFwiO1xuICAgICAgICBjYXNlIFwiQk9EWVwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiQm9keVwiO1xuICAgICAgICBjYXNlIFwiRk9PVFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiRm9vdFwiO1xuICAgICAgICBjYXNlIFwiTkVDS1wiOlxuICAgICAgICAgICAgcmV0dXJuIFwiUGxhbmFyIFNwaGVyZVwiO1xuICAgICAgICBjYXNlIFwiT0JKRUNUXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJMaW5rIFJvcGVcIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBcIlVuZGVmaW5lZFwiO1xuICAgIH1cbiAgICBcbn1cblxuZnVuY3Rpb24gZWxlbWVudE1hcHBlcihlbGVtZW50KXtcbiAgICBzd2l0Y2ggKGVsZW1lbnQpIHtcbiAgICAgICAgY2FzZSBcImVsZWNcIjpcbiAgICAgICAgICAgIHJldHVybiBcIkxpZ2h0bmluZ1wiO1xuICAgICAgICBjYXNlIFwiaW1hZ2luYXJ5XCI6XG4gICAgICAgICAgICByZXR1cm4gXCJJbWFnaW5hcnlcIjtcbiAgICAgICAgY2FzZSBcIndpbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBcIldpbmRcIjtcbiAgICAgICAgY2FzZSBcImZpcmVcIjpcbiAgICAgICAgICAgIHJldHVybiBcIkZpcmVcIjtcbiAgICAgICAgY2FzZSBcImljZVwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiSWNlXCI7XG4gICAgICAgIGNhc2UgXCJxdWFudHVtXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJRdWFudHVtXCI7XG4gICAgICAgIGNhc2UgXCJwaHlzaWNhbFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiUGh5c2ljYWxcIlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFwiVW5kZWZpbmVkXCI7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZU1haW5BZmZpeChhZmZpeCxhZmZpeF9jb25maWcpe1xuICAgIGNvbnN0IHR5cGUgPSBhZmZpeF9jb25maWdbYWZmaXgudHlwZS50b1N0cmluZygpXTtcbiAgICBsZXQgdmFsdWUgPSBhZmZpeC52YWx1ZTtcbiAgICBsZXQgdmFsdWVTdHJpbmcgPSAgMDtcbiAgICBpZih2YWx1ZSA8IDEpe1xuICAgICAgICB2YWx1ZVN0cmluZyA9IChNYXRoLmZsb29yKHZhbHVlKjEwMDApLzEwKS50b1N0cmluZygpK1wiJVwiO1xuICAgIH1lbHNle1xuICAgICAgICBpZih0eXBlID09PSBcIlNwZWVkXCIpe1xuICAgICAgICAgICAgdmFsdWVTdHJpbmcgPSAoTWF0aC5mbG9vcih2YWx1ZSoxMCkvMTApLnRvU3RyaW5nKCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdmFsdWVTdHJpbmcgPSBNYXRoLmZsb29yKHZhbHVlKS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7dHlwZSx2YWx1ZSx2YWx1ZVN0cmluZ31cbn1cblxuXG5mdW5jdGlvbiBwYXJzZVN1YkFmZml4KGFmZml4LCBhZmZpeF9jb25maWcpe1xuICAgIC8vY29uc29sZS5sb2coYWZmaXgpXG4gICAgY29uc3QgdHlwZSA9IGFmZml4X2NvbmZpZ1thZmZpeC5pbmZvLnR5cGUudG9TdHJpbmcoKV07XG4gICAgbGV0IHZhbHVlID0gYWZmaXguaW5mby52YWx1ZTtcbiAgICBsZXQgdmFsdWVTdHJpbmcgPSAgMDtcbiAgICBpZih2YWx1ZSA8IDEpe1xuICAgICAgICB2YWx1ZVN0cmluZyA9IChNYXRoLmZsb29yKHZhbHVlKjEwMDApLzEwKS50b1N0cmluZygpK1wiJVwiO1xuICAgIH1lbHNle1xuICAgICAgICBpZih0eXBlID09PSBcIlNwZWVkXCIpe1xuICAgICAgICAgICAgdmFsdWVTdHJpbmcgPSAoTWF0aC5mbG9vcih2YWx1ZSoxMCkvMTApLnRvU3RyaW5nKCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdmFsdWVTdHJpbmcgPSBNYXRoLmZsb29yKHZhbHVlKS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7dHlwZSx2YWx1ZSx2YWx1ZVN0cmluZ31cblxufVxuXG5cbmZ1bmN0aW9uIHBhcnNlUmVsaWMocmVsaWMscmVsaWNfY29uZmlnLGFmZml4X2NvbmZpZyxzZXRfY29uZmlnKXtcbiAgICBjb25zdCBmb3JtYXR0ZWRfcmVsaWMgPSB7fVxuICAgIGZvcm1hdHRlZF9yZWxpYy5sZXZlbCA9IHJlbGljLmxldmVsO1xuICAgIGZvcm1hdHRlZF9yZWxpYy50eXBlID0gcGFyc2VUeXBlKHJlbGljX2NvbmZpZ1tyZWxpYy5pZF0uVHlwZSk7IFxuICAgIGNvbnN0IHNldElkID0gcmVsaWNfY29uZmlnW3JlbGljLmlkXS5TZXRJRDtcbiAgICBmb3JtYXR0ZWRfcmVsaWMuc2V0ID0gc2V0X2NvbmZpZ1tzZXRJZF07XG4gICAgZm9ybWF0dGVkX3JlbGljLnJhcml0eSA9IHJlbGljX2NvbmZpZ1tyZWxpYy5pZF0uUmFyaXR5LnNsaWNlKC0xKTtcbiAgICBcblxuICAgIGNvbnN0IG1haW5BZmZpeCA9IHBhcnNlTWFpbkFmZml4KHJlbGljLm1haW5BZmZpeCwgYWZmaXhfY29uZmlnKVxuICAgIGZvcm1hdHRlZF9yZWxpYy5tYWluQWZmaXggPSBtYWluQWZmaXg7XG5cbiAgICBmb3JtYXR0ZWRfcmVsaWMuc3ViQWZmaXggPSBbXTtcbiAgICBmb3IoY29uc3Qgc3ViQWZmaXggb2YgcmVsaWMuc3ViQWZmaXhMaXN0KXtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkX3N1YkFmZml4ID0gcGFyc2VTdWJBZmZpeChzdWJBZmZpeCwgYWZmaXhfY29uZmlnKTtcbiAgICAgICAgZm9ybWF0dGVkX3JlbGljLnN1YkFmZml4LnB1c2goZm9ybWF0dGVkX3N1YkFmZml4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm9ybWF0dGVkX3JlbGljO1xufVxuXG5cblxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgVUlEID0gcmVxLnF1ZXJ5LnVpZFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vYXBpLnlzaGVscGVyLmNvbS95cy9nZXRIU1JQbGF5ZXJJbmZvLnBocD91aWQ9JHtVSUR9YClcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgLy9jb25zb2xlLmxvZyhVSUQsIGRhdGEucmV0Y29kZSk7XG5cbiAgICBpZihkYXRhLnJldGNvZGUgIT09IDApe1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe30pO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIWNhY2hlZFJlbGljQ29uZmlnKSB7XG4gICAgICAgIGNvbnN0IHJhd1JlbGljQ29uZmlnID0gYXdhaXQgcmVsaWNDb25maWcuZmluZCgpO1xuICAgICAgICBjYWNoZWRSZWxpY0NvbmZpZyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmF3UmVsaWNDb25maWdbMF0pKTtcbiAgICB9XG5cbiAgICBpZiAoIWNhY2hlZEFmZml4Q29uZmlnKSB7XG4gICAgICAgIGNvbnN0IHJhd0FmZml4Q29uZmlnID0gYXdhaXQgYWZmaXhDb25maWcuZmluZCgpO1xuICAgICAgICBjYWNoZWRBZmZpeENvbmZpZyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmF3QWZmaXhDb25maWdbMF0pKTtcbiAgICB9XG5cbiAgICBpZiAoIWNhY2hlZEF2YXRhckNvbmZpZykge1xuICAgICAgICBjb25zdCByYXdBdmF0YXJDb25maWcgPSBhd2FpdCBhdmF0YXJDb25maWcuZmluZCgpO1xuICAgICAgICBjYWNoZWRBdmF0YXJDb25maWcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJhd0F2YXRhckNvbmZpZykpO1xuICAgIH1cbiAgICBpZighY2FjaGVkU2V0Q29uZmlnKXtcbiAgICAgICAgY29uc3QgcmF3U2V0Q29uZmlnID0gYXdhaXQgc2V0Q29uZmlnLmZpbmQoKTtcbiAgICAgICAgY2FjaGVkU2V0Q29uZmlnID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyYXdTZXRDb25maWdbMF0pKTtcbiAgICB9XG5cbiAgICAvL2NvbnN0IHJhd19yZWxpY19zY29yZSA9IGF3YWl0IENoYXJhY3Rlcl90b19yZWxpYy5maW5kKCk7XG4gICAgLy9jb25zdCByZWxpY19zY29yZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmF3X3JlbGljX3Njb3JlWzBdKSk7XG5cbiAgICBjb25zdCB1c2VySW5mbyA9IHtcbiAgICAgICAgdWlkOlVJRCxcbiAgICAgICAgbmFtZTogZGF0YS5uaWNrbmFtZSxcbiAgICAgICAgbGV2ZWw6IGRhdGEubGV2ZWwsXG4gICAgICAgIGF2YXRhcnM6IFtdXG4gICAgfTtcblxuICAgIGZvcihjb25zdCBhdmF0YXIgb2YgW2RhdGEuYXNzaXN0QXZhdGFyLC4uLmRhdGEuc2hvd0F2YXRhckxpc3RdKXsgXG4gICAgICAgIGNvbnN0IHRlbXBBdmF0YXJDb25maWcgPSBjYWNoZWRBdmF0YXJDb25maWcuZmluZChpbnN0YW5jZSA9PiBpbnN0YW5jZS5pZCA9PT0gYXZhdGFyLmF2YXRhcklkKVxuICAgICAgICBjb25zdCBmb3JtYXR0ZWRBdmF0YXIgPSB7XG4gICAgICAgICAgICBuYW1lOiB0ZW1wQXZhdGFyQ29uZmlnLm5hbWUsXG4gICAgICAgICAgICBlbGVtZW50OiB0ZW1wQXZhdGFyQ29uZmlnLmVsZW1lbnQsXG4gICAgICAgICAgICBlbGVtZW50U3RyaW5nOiBlbGVtZW50TWFwcGVyKHRlbXBBdmF0YXJDb25maWcuZWxlbWVudCksXG4gICAgICAgICAgICBsZXZlbDogYXZhdGFyLmxldmVsLFxuICAgICAgICAgICAgY29tYmF0ZVZhbHVlczogYXZhdGFyLmNvbWJhdFZhbHVlcyxcbiAgICAgICAgICAgIGJhc2ljX2xldmVsOiBhdmF0YXIuc2tpbGxMaXN0WzBdLmxldmVsLFxuICAgICAgICAgICAgc2tpbGxfbGV2ZWw6IGF2YXRhci5za2lsbExpc3RbMV0ubGV2ZWwsXG4gICAgICAgICAgICB1bHRpbWF0ZV9sZXZlbCA6YXZhdGFyLnNraWxsTGlzdFsyXS5sZXZlbCxcbiAgICAgICAgICAgIHJlbGljczogW11cbiAgICAgICAgfVxuXG4gICAgICAgIGZvcihjb25zdCBzdGF0IGluIGZvcm1hdHRlZEF2YXRhci5jb21iYXRlVmFsdWVzKXtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGZvcm1hdHRlZEF2YXRhci5jb21iYXRlVmFsdWVzW3N0YXRdXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlIDwgNT8gTWF0aC5mbG9vcih2YWx1ZSoxMDAwKS8xMCA6IE1hdGguZmxvb3IodmFsdWUpXG4gICAgICAgICAgICBmb3JtYXR0ZWRBdmF0YXIuY29tYmF0ZVZhbHVlc1tzdGF0XSA9IHZhbHVlXG4gICAgICAgIH0gICAgXG4gICAgICAgIGZvcm1hdHRlZEF2YXRhci50b3RhbFNjb3JlID0gMFxuICAgICAgICBmb3IoY29uc3QgcmVsaWMgb2YgYXZhdGFyLnJlbGljTGlzdCl7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlbGljKTtcbiAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZF9yZWxpYyA9IHBhcnNlUmVsaWMocmVsaWMsIGNhY2hlZFJlbGljQ29uZmlnLCBjYWNoZWRBZmZpeENvbmZpZywgY2FjaGVkU2V0Q29uZmlnKTtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZm9ybWF0dGVkX3JlbGljKTtcblxuICAgICAgICAgICAgY29uc3Qge3Njb3JlLHJhdGV9ID0gYXdhaXQgZ2V0UmVsaWNTY29yZSh7cmVsaWM6Zm9ybWF0dGVkX3JlbGljLCBuYW1lOmZvcm1hdHRlZEF2YXRhci5uYW1lfSk7XG4gICAgICAgICAgICBmb3JtYXR0ZWRfcmVsaWMuc2NvcmUgPSBzY29yZTtcbiAgICAgICAgICAgIGZvcm1hdHRlZF9yZWxpYy5yYXRlID0gcmF0ZTtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZm9ybWF0dGVkQXZhdGFyKTtcbiAgICAgICAgICAgIGZvcm1hdHRlZEF2YXRhci5yZWxpY3MucHVzaChmb3JtYXR0ZWRfcmVsaWMpO1xuICAgICAgICAgICAgZm9ybWF0dGVkQXZhdGFyLnRvdGFsU2NvcmUgKz0gc2NvcmVcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdlaWdodHMgPSBhd2FpdCBnZXRXZWlnaHRzKGZvcm1hdHRlZEF2YXRhci5uYW1lKVxuICAgICAgICBmb3JtYXR0ZWRBdmF0YXIud2VpZ2h0cyA9IHdlaWdodHM7XG4gICAgICAgIGZvcm1hdHRlZEF2YXRhci50b3RhbFNjb3JlID0gTWF0aC5mbG9vcihmb3JtYXR0ZWRBdmF0YXIudG90YWxTY29yZSoxMCkvMTBcbiAgICAgICAgdXNlckluZm8uYXZhdGFycy5wdXNoKGZvcm1hdHRlZEF2YXRhcik7XG4gICAgfVxuICAgIFxuICAgIHVzZXJJbmZvLmZhY3RvcnMgPSBmYWN0b3JzXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXJJbmZvKVxufVxuIl0sIm5hbWVzIjpbInJlbGljQ29uZmlnIiwiYWZmaXhDb25maWciLCJhdmF0YXJDb25maWciLCJzZXRDb25maWciLCJnZXRSZWxpY1Njb3JlIiwiZ2V0V2VpZ2h0cyIsImZhY3RvcnMiLCJjYWNoZWRSZWxpY0NvbmZpZyIsImNhY2hlZEFmZml4Q29uZmlnIiwiY2FjaGVkQXZhdGFyQ29uZmlnIiwiY2FjaGVkU2V0Q29uZmlnIiwicGFyc2VUeXBlIiwidHlwZSIsImVsZW1lbnRNYXBwZXIiLCJlbGVtZW50IiwicGFyc2VNYWluQWZmaXgiLCJhZmZpeCIsImFmZml4X2NvbmZpZyIsInRvU3RyaW5nIiwidmFsdWUiLCJ2YWx1ZVN0cmluZyIsIk1hdGgiLCJmbG9vciIsInBhcnNlU3ViQWZmaXgiLCJpbmZvIiwicGFyc2VSZWxpYyIsInJlbGljIiwicmVsaWNfY29uZmlnIiwic2V0X2NvbmZpZyIsImZvcm1hdHRlZF9yZWxpYyIsImxldmVsIiwiaWQiLCJUeXBlIiwic2V0SWQiLCJTZXRJRCIsInNldCIsInJhcml0eSIsIlJhcml0eSIsInNsaWNlIiwibWFpbkFmZml4Iiwic3ViQWZmaXgiLCJzdWJBZmZpeExpc3QiLCJmb3JtYXR0ZWRfc3ViQWZmaXgiLCJwdXNoIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIlVJRCIsInF1ZXJ5IiwidWlkIiwicmVzcG9uc2UiLCJmZXRjaCIsImRhdGEiLCJqc29uIiwicmV0Y29kZSIsInN0YXR1cyIsInJhd1JlbGljQ29uZmlnIiwiZmluZCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsInJhd0FmZml4Q29uZmlnIiwicmF3QXZhdGFyQ29uZmlnIiwicmF3U2V0Q29uZmlnIiwidXNlckluZm8iLCJuYW1lIiwibmlja25hbWUiLCJhdmF0YXJzIiwiYXZhdGFyIiwiYXNzaXN0QXZhdGFyIiwic2hvd0F2YXRhckxpc3QiLCJ0ZW1wQXZhdGFyQ29uZmlnIiwiaW5zdGFuY2UiLCJhdmF0YXJJZCIsImZvcm1hdHRlZEF2YXRhciIsImVsZW1lbnRTdHJpbmciLCJjb21iYXRlVmFsdWVzIiwiY29tYmF0VmFsdWVzIiwiYmFzaWNfbGV2ZWwiLCJza2lsbExpc3QiLCJza2lsbF9sZXZlbCIsInVsdGltYXRlX2xldmVsIiwicmVsaWNzIiwic3RhdCIsInRvdGFsU2NvcmUiLCJyZWxpY0xpc3QiLCJzY29yZSIsInJhdGUiLCJ3ZWlnaHRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/scorer.js\n");

/***/ }),

/***/ "(api)/./utils/ConnectStarRailConfig.js":
/*!****************************************!*\
  !*** ./utils/ConnectStarRailConfig.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\n/*\nexport default async function connectToStarRail() {\n    const conn =  mongoose.createConnection(\"mongodb+srv://zoujiajie20010606:66712001zjj66zjj@harbingerzou.vmlx3pz.mongodb.net/star_rail?retryWrites=true&w=majority\", {\n        useNewUrlParser: true,\n        useUnifiedTopology: true,\n    });\n    //const value = await connectToDb(), value is the parameter of resolve\n    return new Promise((resolve, reject) => {\n        conn.on('connected', () => {\n            console.log('Connected to Star Rail!');\n            resolve(conn);\n        });\n\n        conn.on('error', (err) => {\n            console.error('Error connecting to Star Rail:', err);\n            reject(err);\n        });\n    });\n}\n*/ const conn = mongoose__WEBPACK_IMPORTED_MODULE_0___default().createConnection(process.env.MONGO_URI, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (conn);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9Db25uZWN0U3RhclJhaWxDb25maWcuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbUJBLEdBRUEsTUFBTUMsT0FBUUQsZ0VBQXlCLENBQUNHLFFBQVFDLEdBQUcsQ0FBQ0MsU0FBUyxFQUFFO0lBQzNEQyxpQkFBaUIsSUFBSTtJQUNyQkMsb0JBQW9CLElBQUk7QUFDNUI7QUFDQSxpRUFBZU4sSUFBSUEsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbmthaS1zdGFyLXJhaWwvLi91dGlscy9Db25uZWN0U3RhclJhaWxDb25maWcuanM/MDUxZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbi8qXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBjb25uZWN0VG9TdGFyUmFpbCgpIHtcbiAgICBjb25zdCBjb25uID0gIG1vbmdvb3NlLmNyZWF0ZUNvbm5lY3Rpb24oXCJtb25nb2RiK3NydjovL3pvdWppYWppZTIwMDEwNjA2OjY2NzEyMDAxempqNjZ6ampAaGFyYmluZ2Vyem91LnZtbHgzcHoubW9uZ29kYi5uZXQvc3Rhcl9yYWlsP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eVwiLCB7XG4gICAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgICAgICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxuICAgIH0pO1xuICAgIC8vY29uc3QgdmFsdWUgPSBhd2FpdCBjb25uZWN0VG9EYigpLCB2YWx1ZSBpcyB0aGUgcGFyYW1ldGVyIG9mIHJlc29sdmVcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25uLm9uKCdjb25uZWN0ZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIFN0YXIgUmFpbCEnKTtcbiAgICAgICAgICAgIHJlc29sdmUoY29ubik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbm4ub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29ubmVjdGluZyB0byBTdGFyIFJhaWw6JywgZXJyKTtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbiovXG5cbmNvbnN0IGNvbm4gPSAgbW9uZ29vc2UuY3JlYXRlQ29ubmVjdGlvbihwcm9jZXNzLmVudi5NT05HT19VUkksIHtcbiAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxufSk7XG5leHBvcnQgZGVmYXVsdCBjb25uIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiY29ubiIsImNyZWF0ZUNvbm5lY3Rpb24iLCJwcm9jZXNzIiwiZW52IiwiTU9OR09fVVJJIiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./utils/ConnectStarRailConfig.js\n");

/***/ }),

/***/ "(api)/./utils/starrail/getRelicScore.js":
/*!*****************************************!*\
  !*** ./utils/starrail/getRelicScore.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getSocre)\n/* harmony export */ });\n/* harmony import */ var _getWeight__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getWeight */ \"(api)/./utils/starrail/getWeight.js\");\n/* harmony import */ var _scoreFactor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scoreFactor */ \"(api)/./utils/starrail/scoreFactor.js\");\n\n\nfunction getRate(score) {\n    if (score >= 40) {\n        return \"SSS\";\n    }\n    if (score >= 35) {\n        return \"SS\";\n    }\n    if (score >= 30) {\n        return \"S\";\n    }\n    if (score >= 25) {\n        return \"A\";\n    }\n    if (score >= 20) {\n        return \"B\";\n    }\n    if (score >= 12) {\n        return \"C\";\n    }\n    return \"D\";\n}\nasync function getSocre({ relic , name  }) {\n    const weights = await (0,_getWeight__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(name);\n    const subAffixList = relic.subAffix;\n    const mainAffix = relic.mainAffix;\n    let score = 0;\n    for (let subAffix of subAffixList){\n        const type = subAffix.type;\n        //value is a String\n        const value = subAffix.valueString;\n        const plain_type = parseType(type);\n        const plain_value = value.replace(\"%\", \"\");\n        score += plain_value * _scoreFactor__WEBPACK_IMPORTED_MODULE_1__[\"default\"][type] * weights[plain_type];\n    }\n    const main_type = mainAffix.type;\n    const level = relic.level;\n    const plain_main_type = parseType(main_type);\n    const relic_type = relic.type;\n    const main_score1 = (relic_type === \"Planar Sphere\" || relic_type === \"Body\") && weights[plain_main_type] !== 0 ? level * 2 / 3.0 : 0;\n    const main_score2 = relic_type !== \"Head\" && relic_type !== \"Hand\" ? 5.83 * weights[plain_main_type] : 0;\n    score += main_score1 + main_score2;\n    score = Math.floor(score * 10) / 10;\n    const rate = getRate(score);\n    return {\n        score,\n        rate\n    };\n}\nfunction parseType(type) {\n    type = type.replace(\"Lightning\", \"Element\");\n    type = type.replace(\"Fire\", \"Element\");\n    type = type.replace(\"Wind\", \"Element\");\n    type = type.replace(\"Quantum\", \"Element\");\n    type = type.replace(\"Physical\", \"Element\");\n    type = type.replace(\"Imaginary\", \"Element\");\n    type = type.replace(\"Ice\", \"Element\");\n    type = type.replace(\"%\", \"\");\n    return type;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9zdGFycmFpbC9nZXRSZWxpY1Njb3JlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxQztBQUNEO0FBRXBDLFNBQVNFLFFBQVFDLEtBQUssRUFBQztJQUNuQixJQUFHQSxTQUFTLElBQUc7UUFDWCxPQUFPO0lBQ1gsQ0FBQztJQUNELElBQUdBLFNBQU8sSUFBRztRQUNULE9BQU87SUFDWCxDQUFDO0lBQ0QsSUFBR0EsU0FBTyxJQUFHO1FBQ1QsT0FBTztJQUNYLENBQUM7SUFDRCxJQUFHQSxTQUFPLElBQUc7UUFDVCxPQUFPO0lBQ1gsQ0FBQztJQUNELElBQUdBLFNBQU8sSUFBRztRQUNULE9BQU87SUFDWCxDQUFDO0lBQ0QsSUFBR0EsU0FBTyxJQUFHO1FBQ1QsT0FBTztJQUNYLENBQUM7SUFDRCxPQUFPO0FBQ1g7QUFFZSxlQUFlQyxTQUFTLEVBQUNDLE1BQUssRUFBQ0MsS0FBSSxFQUFDLEVBQUM7SUFFaEQsTUFBTUMsVUFBVSxNQUFNUCxzREFBVUEsQ0FBQ007SUFFakMsTUFBTUUsZUFBZUgsTUFBTUksUUFBUTtJQUNuQyxNQUFNQyxZQUFZTCxNQUFNSyxTQUFTO0lBQ2pDLElBQUlQLFFBQVE7SUFDWixLQUFJLElBQUlNLFlBQVlELGFBQWE7UUFDN0IsTUFBTUcsT0FBT0YsU0FBU0UsSUFBSTtRQUMxQixtQkFBbUI7UUFDbkIsTUFBTUMsUUFBUUgsU0FBU0ksV0FBVztRQUNsQyxNQUFNQyxhQUFhQyxVQUFVSjtRQUM3QixNQUFNSyxjQUFjSixNQUFNSyxPQUFPLENBQUMsS0FBSztRQUN2Q2QsU0FBU2EsY0FBY2Ysb0RBQU8sQ0FBQ1UsS0FBSyxHQUFHSixPQUFPLENBQUNPLFdBQVc7SUFDOUQ7SUFDQSxNQUFNSSxZQUFZUixVQUFVQyxJQUFJO0lBQ2hDLE1BQU1RLFFBQVFkLE1BQU1jLEtBQUs7SUFDekIsTUFBTUMsa0JBQWtCTCxVQUFVRztJQUNsQyxNQUFNRyxhQUFhaEIsTUFBTU0sSUFBSTtJQUU3QixNQUFNVyxjQUFlLENBQUVELGVBQWUsbUJBQW1CQSxlQUFlLE1BQUssS0FBTWQsT0FBTyxDQUFDYSxnQkFBZ0IsS0FBSyxJQUFJRCxRQUFNLElBQUUsTUFBTSxDQUFDO0lBQ25JLE1BQU1JLGNBQWMsZUFBZ0IsVUFBVUYsZUFBZSxTQUFTLE9BQU9kLE9BQU8sQ0FBQ2EsZ0JBQWdCLEdBQUcsQ0FBQztJQUV6R2pCLFNBQVFtQixjQUFjQztJQUV0QnBCLFFBQVFxQixLQUFLQyxLQUFLLENBQUN0QixRQUFNLE1BQUk7SUFDN0IsTUFBTXVCLE9BQU94QixRQUFRQztJQUVyQixPQUFPO1FBQUNBO1FBQU11QjtJQUFJO0FBQ3RCLENBQUM7QUFHRCxTQUFTWCxVQUFVSixJQUFJLEVBQUM7SUFDcEJBLE9BQU9BLEtBQUtNLE9BQU8sQ0FBQyxhQUFhO0lBQ2pDTixPQUFPQSxLQUFLTSxPQUFPLENBQUMsUUFBUTtJQUM1Qk4sT0FBT0EsS0FBS00sT0FBTyxDQUFDLFFBQVE7SUFDNUJOLE9BQU9BLEtBQUtNLE9BQU8sQ0FBQyxXQUFXO0lBQy9CTixPQUFPQSxLQUFLTSxPQUFPLENBQUMsWUFBWTtJQUNoQ04sT0FBT0EsS0FBS00sT0FBTyxDQUFDLGFBQWE7SUFDakNOLE9BQU9BLEtBQUtNLE9BQU8sQ0FBQyxPQUFPO0lBQzNCTixPQUFPQSxLQUFLTSxPQUFPLENBQUMsS0FBSztJQUN6QixPQUFPTjtBQUNYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9ua2FpLXN0YXItcmFpbC8uL3V0aWxzL3N0YXJyYWlsL2dldFJlbGljU2NvcmUuanM/YTlmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZ2V0V2VpZ2h0cyBmcm9tIFwiLi9nZXRXZWlnaHRcIjtcbmltcG9ydCBmYWN0b3JzIGZyb20gXCIuL3Njb3JlRmFjdG9yXCI7XG5cbmZ1bmN0aW9uIGdldFJhdGUoc2NvcmUpe1xuICAgIGlmKHNjb3JlID49IDQwKXtcbiAgICAgICAgcmV0dXJuIFwiU1NTXCJcbiAgICB9XG4gICAgaWYoc2NvcmU+PTM1KXtcbiAgICAgICAgcmV0dXJuIFwiU1NcIlxuICAgIH1cbiAgICBpZihzY29yZT49MzApe1xuICAgICAgICByZXR1cm4gXCJTXCJcbiAgICB9XG4gICAgaWYoc2NvcmU+PTI1KXtcbiAgICAgICAgcmV0dXJuIFwiQVwiXG4gICAgfVxuICAgIGlmKHNjb3JlPj0yMCl7XG4gICAgICAgIHJldHVybiBcIkJcIlxuICAgIH1cbiAgICBpZihzY29yZT49MTIpe1xuICAgICAgICByZXR1cm4gXCJDXCJcbiAgICB9XG4gICAgcmV0dXJuIFwiRFwiO1xufVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBnZXRTb2NyZSh7cmVsaWMsbmFtZX0pe1xuXG4gICAgY29uc3Qgd2VpZ2h0cyA9IGF3YWl0IGdldFdlaWdodHMobmFtZSk7XG5cbiAgICBjb25zdCBzdWJBZmZpeExpc3QgPSByZWxpYy5zdWJBZmZpeDtcbiAgICBjb25zdCBtYWluQWZmaXggPSByZWxpYy5tYWluQWZmaXg7XG4gICAgbGV0IHNjb3JlID0gMDtcbiAgICBmb3IobGV0IHN1YkFmZml4IG9mIHN1YkFmZml4TGlzdCl7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBzdWJBZmZpeC50eXBlO1xuICAgICAgICAvL3ZhbHVlIGlzIGEgU3RyaW5nXG4gICAgICAgIGNvbnN0IHZhbHVlID0gc3ViQWZmaXgudmFsdWVTdHJpbmc7XG4gICAgICAgIGNvbnN0IHBsYWluX3R5cGUgPSBwYXJzZVR5cGUodHlwZSk7XG4gICAgICAgIGNvbnN0IHBsYWluX3ZhbHVlID0gdmFsdWUucmVwbGFjZShcIiVcIiwgXCJcIik7XG4gICAgICAgIHNjb3JlICs9IHBsYWluX3ZhbHVlICogZmFjdG9yc1t0eXBlXSAqIHdlaWdodHNbcGxhaW5fdHlwZV07XG4gICAgfVxuICAgIGNvbnN0IG1haW5fdHlwZSA9IG1haW5BZmZpeC50eXBlO1xuICAgIGNvbnN0IGxldmVsID0gcmVsaWMubGV2ZWw7XG4gICAgY29uc3QgcGxhaW5fbWFpbl90eXBlID0gcGFyc2VUeXBlKG1haW5fdHlwZSk7XG4gICAgY29uc3QgcmVsaWNfdHlwZSA9IHJlbGljLnR5cGU7XG5cbiAgICBjb25zdCBtYWluX3Njb3JlMSA9ICAoKHJlbGljX3R5cGUgPT09IFwiUGxhbmFyIFNwaGVyZVwiIHx8IHJlbGljX3R5cGUgPT09IFwiQm9keVwiKSAmJiB3ZWlnaHRzW3BsYWluX21haW5fdHlwZV0gIT09IDApPyBsZXZlbCoyLzMuMCA6IDBcbiAgICBjb25zdCBtYWluX3Njb3JlMiA9IChyZWxpY190eXBlICE9PSBcIkhlYWRcIiAmJiByZWxpY190eXBlICE9PSBcIkhhbmRcIik/IDUuODMgKiB3ZWlnaHRzW3BsYWluX21haW5fdHlwZV0gOiAwO1xuXG4gICAgc2NvcmUrPSBtYWluX3Njb3JlMSArIG1haW5fc2NvcmUyO1xuICAgIFxuICAgIHNjb3JlID0gTWF0aC5mbG9vcihzY29yZSoxMCkvMTA7XG4gICAgY29uc3QgcmF0ZSA9IGdldFJhdGUoc2NvcmUpO1xuXG4gICAgcmV0dXJuIHtzY29yZSxyYXRlfTtcbn1cblxuXG5mdW5jdGlvbiBwYXJzZVR5cGUodHlwZSl7XG4gICAgdHlwZSA9IHR5cGUucmVwbGFjZShcIkxpZ2h0bmluZ1wiLCBcIkVsZW1lbnRcIik7XG4gICAgdHlwZSA9IHR5cGUucmVwbGFjZShcIkZpcmVcIiwgXCJFbGVtZW50XCIpO1xuICAgIHR5cGUgPSB0eXBlLnJlcGxhY2UoXCJXaW5kXCIsIFwiRWxlbWVudFwiKTtcbiAgICB0eXBlID0gdHlwZS5yZXBsYWNlKFwiUXVhbnR1bVwiLCBcIkVsZW1lbnRcIik7XG4gICAgdHlwZSA9IHR5cGUucmVwbGFjZShcIlBoeXNpY2FsXCIsIFwiRWxlbWVudFwiKTtcbiAgICB0eXBlID0gdHlwZS5yZXBsYWNlKFwiSW1hZ2luYXJ5XCIsIFwiRWxlbWVudFwiKTtcbiAgICB0eXBlID0gdHlwZS5yZXBsYWNlKFwiSWNlXCIsIFwiRWxlbWVudFwiKTtcbiAgICB0eXBlID0gdHlwZS5yZXBsYWNlKFwiJVwiLCBcIlwiKTtcbiAgICByZXR1cm4gdHlwZTtcbn0iXSwibmFtZXMiOlsiZ2V0V2VpZ2h0cyIsImZhY3RvcnMiLCJnZXRSYXRlIiwic2NvcmUiLCJnZXRTb2NyZSIsInJlbGljIiwibmFtZSIsIndlaWdodHMiLCJzdWJBZmZpeExpc3QiLCJzdWJBZmZpeCIsIm1haW5BZmZpeCIsInR5cGUiLCJ2YWx1ZSIsInZhbHVlU3RyaW5nIiwicGxhaW5fdHlwZSIsInBhcnNlVHlwZSIsInBsYWluX3ZhbHVlIiwicmVwbGFjZSIsIm1haW5fdHlwZSIsImxldmVsIiwicGxhaW5fbWFpbl90eXBlIiwicmVsaWNfdHlwZSIsIm1haW5fc2NvcmUxIiwibWFpbl9zY29yZTIiLCJNYXRoIiwiZmxvb3IiLCJyYXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./utils/starrail/getRelicScore.js\n");

/***/ }),

/***/ "(api)/./utils/starrail/getWeight.js":
/*!*************************************!*\
  !*** ./utils/starrail/getWeight.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getWeights)\n/* harmony export */ });\n/* harmony import */ var _models_starRailConfig_characterToStatsScore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/starRailConfig/characterToStatsScore */ \"(api)/./models/starRailConfig/characterToStatsScore.js\");\n\nasync function getWeights(name) {\n    try {\n        if (name) {\n            const rawCharacterWeight = await _models_starRailConfig_characterToStatsScore__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n                name\n            });\n            const characterWeight = JSON.parse(JSON.stringify(rawCharacterWeight));\n            delete characterWeight._id;\n            delete characterWeight.name;\n            return characterWeight;\n        } else {\n            const rawCharacterWeight = await _models_starRailConfig_characterToStatsScore__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({});\n            const characterWeight = JSON.parse(JSON.stringify(rawCharacterWeight));\n            //console.log(characterWeight)\n            return characterWeight;\n        }\n    } catch (error) {\n        console.log(error);\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9zdGFycmFpbC9nZXRXZWlnaHQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0U7QUFDaEUsZUFBZUMsV0FBV0MsSUFBSSxFQUFFO0lBQzNDLElBQUk7UUFDQSxJQUFJQSxNQUFNO1lBQ04sTUFBTUMscUJBQXFCLE1BQU1ILDRGQUF1QixDQUFDO2dCQUFDRTtZQUFJO1lBQzlELE1BQU1HLGtCQUFrQkMsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxTQUFTLENBQUNMO1lBQ2xELE9BQU9FLGdCQUFnQkksR0FBRztZQUMxQixPQUFPSixnQkFBZ0JILElBQUk7WUFDM0IsT0FBT0c7UUFDWCxPQUFLO1lBQ0QsTUFBTUYscUJBQXFCLE1BQU1ILHlGQUFvQixDQUFDLENBQUM7WUFDdkQsTUFBTUssa0JBQWtCQyxLQUFLQyxLQUFLLENBQUNELEtBQUtFLFNBQVMsQ0FBQ0w7WUFDbEQsOEJBQThCO1lBQzlCLE9BQU9FO1FBQ1gsQ0FBQztJQUNMLEVBQUUsT0FBT00sT0FBTztRQUNaQyxRQUFRQyxHQUFHLENBQUNGO1FBQ1osT0FBTyxJQUFJO0lBQ2Y7QUFDSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9ua2FpLXN0YXItcmFpbC8uL3V0aWxzL3N0YXJyYWlsL2dldFdlaWdodC5qcz9iOThkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDaGFyYWN0ZXJXZWlnaHQgZnJvbSBcIi4uLy4uL21vZGVscy9zdGFyUmFpbENvbmZpZy9jaGFyYWN0ZXJUb1N0YXRzU2NvcmVcIlxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gZ2V0V2VpZ2h0cyhuYW1lKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhd0NoYXJhY3RlcldlaWdodCA9IGF3YWl0IENoYXJhY3RlcldlaWdodC5maW5kT25lKHtuYW1lfSk7XG4gICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJXZWlnaHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJhd0NoYXJhY3RlcldlaWdodCkpO1xuICAgICAgICAgICAgZGVsZXRlIGNoYXJhY3RlcldlaWdodC5faWRcbiAgICAgICAgICAgIGRlbGV0ZSBjaGFyYWN0ZXJXZWlnaHQubmFtZVxuICAgICAgICAgICAgcmV0dXJuIGNoYXJhY3RlcldlaWdodFxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGNvbnN0IHJhd0NoYXJhY3RlcldlaWdodCA9IGF3YWl0IENoYXJhY3RlcldlaWdodC5maW5kKHt9KTtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlcldlaWdodCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmF3Q2hhcmFjdGVyV2VpZ2h0KSk7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGNoYXJhY3RlcldlaWdodClcbiAgICAgICAgICAgIHJldHVybiBjaGFyYWN0ZXJXZWlnaHRcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkNoYXJhY3RlcldlaWdodCIsImdldFdlaWdodHMiLCJuYW1lIiwicmF3Q2hhcmFjdGVyV2VpZ2h0IiwiZmluZE9uZSIsImNoYXJhY3RlcldlaWdodCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsIl9pZCIsImZpbmQiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./utils/starrail/getWeight.js\n");

/***/ }),

/***/ "(api)/./utils/starrail/scoreFactor.js":
/*!***************************************!*\
  !*** ./utils/starrail/scoreFactor.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst factors = {\n    \"HP\": 0.153 * 0.5,\n    \"ATK\": 0.3 * 0.5,\n    \"DEF\": 0.3 * 0.5,\n    \"HP%\": 1.5,\n    \"ATK%\": 1.5,\n    \"DEF%\": 1.19,\n    \"CRIT Rate\": 2,\n    \"CRIT DMG\": 1,\n    \"Effect HIT Rate\": 1.49,\n    \"Effect RES\": 1.49,\n    \"Break Effect\": 1,\n    \"Speed\": 2.53\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (factors);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9zdGFycmFpbC9zY29yZUZhY3Rvci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTUEsVUFBVTtJQUNaLE1BQU0sUUFBTTtJQUNaLE9BQU8sTUFBSTtJQUNYLE9BQU8sTUFBSTtJQUNYLE9BQU87SUFDUCxRQUFRO0lBQ1IsUUFBUTtJQUNSLGFBQWE7SUFDYixZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLGNBQWE7SUFDYixnQkFBZ0I7SUFDaEIsU0FBUztBQUNiO0FBQ0EsaUVBQWVBLE9BQU9BLEVBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob25rYWktc3Rhci1yYWlsLy4vdXRpbHMvc3RhcnJhaWwvc2NvcmVGYWN0b3IuanM/NDY4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBmYWN0b3JzID0ge1xuICAgIFwiSFBcIjogMC4xNTMqMC41LFxuICAgIFwiQVRLXCI6IDAuMyowLjUsXG4gICAgXCJERUZcIjogMC4zKjAuNSxcbiAgICBcIkhQJVwiOiAxLjUsXG4gICAgXCJBVEslXCI6IDEuNSxcbiAgICBcIkRFRiVcIjogMS4xOSxcbiAgICBcIkNSSVQgUmF0ZVwiOiAyLCBcbiAgICBcIkNSSVQgRE1HXCI6IDEsIFxuICAgIFwiRWZmZWN0IEhJVCBSYXRlXCI6IDEuNDksIFxuICAgIFwiRWZmZWN0IFJFU1wiOjEuNDksIFxuICAgIFwiQnJlYWsgRWZmZWN0XCI6IDEsIFxuICAgIFwiU3BlZWRcIjogMi41M1xufTtcbmV4cG9ydCBkZWZhdWx0IGZhY3RvcnMiXSwibmFtZXMiOlsiZmFjdG9ycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utils/starrail/scoreFactor.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/scorer.js"));
module.exports = __webpack_exports__;

})();